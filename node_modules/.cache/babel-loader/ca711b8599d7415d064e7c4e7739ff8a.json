{"ast":null,"code":"var _jsxFileName = \"/Users/joaquin/Developer/React/DAWR/osu-stalker-2/src/components/UserBest.js\";\nimport React, { Component } from \"react\";\nimport \"../styles/App.css\";\nimport \"../styles/UserBest.css\";\n\nconst axios = require(\"axios\");\n\nfunction getAcc(data, mode) {\n  let n50 = parseInt(data['count50'], 10);\n  let n100 = parseInt(data['count100'], 10);\n  let n300 = parseInt(data['count300'], 10);\n  let miss = parseInt(data['countmiss'], 10);\n  let katu = parseInt(data['countkatu'], 10);\n  let geki = parseInt(data['countgeki'], 10);\n\n  switch (mode) {\n    default:\n      //osu!\n      return ((50 * n50 + 100 * n100 + 300 * n300) / (300 * (miss + n50 + n100 + n300)) * 100).toFixed(2);\n\n    case \"0\":\n      // osu!\n      return ((50 * n50 + 100 * n100 + 300 * n300) / (300 * (miss + n50 + n100 + n300)) * 100).toFixed(2);\n\n    case \"1\":\n      // osu!taiko\n      return ((0.5 * n100 + n300) / (miss + n100 + n300) * 100).toFixed(2);\n\n    case \"2\":\n      // osu!catch\n      return ((n50 + n300 + n100) / (n50 + n300 + n100 + katu + miss) * 100).toFixed(2);\n\n    case \"3\":\n      //osu!mania\n      return ((50 * n50 + 100 * n100 + 200 * katu + 300 * (n300 + geki)) / (300 * (miss + n50 + n100 + n300 + katu + geki)) * 100).toFixed(2);\n  }\n}\n\nconst ranks = {\n  \"SSH\": \"https://osu.ppy.sh/images/badges/score-ranks-v2019/GradeSmall-SS-Silver.svg?3\",\n  \"SS\": \"https://osu.ppy.sh/images/badges/score-ranks-v2019/GradeSmall-SS.svg?3\",\n  \"SH\": \"https://osu.ppy.sh/images/badges/score-ranks-v2019/GradeSmall-S-Silver.svg?3\",\n  \"S\": \"https://osu.ppy.sh/images/badges/score-ranks-v2019/GradeSmall-S.svg?3\",\n  \"A\": \"https://osu.ppy.sh/images/badges/score-ranks-v2019/GradeSmall-A.svg?3\",\n  \"B\": \"https://osu.ppy.sh/images/badges/score-ranks-v2019/GradeSmall-B.svg?3\",\n  \"C\": \"https://osu.ppy.sh/images/badges/score-ranks-v2019/GradeSmall-C.svg?3\",\n  \"D\": \"https://osu.ppy.sh/images/badges/score-ranks-v2019/GradeSmall-D.svg?3\"\n};\nconst apiLink = \"https://osu.ppy.sh/api/\";\nconst mapData = \"get_beatmaps?\";\nconst apiKey = \"k=a79d9c01a3b012fc0c0bab91aaa7d09e8b76492b\";\nexport default class UserBest extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      mapName: null,\n      artist: null,\n      difficulty: null\n    };\n    this.fetchMap = this.fetchMap.bind(this);\n  }\n\n  fetchMap(id) {\n    const result = apiLink + mapData + apiKey + \"&b=\" + id;\n    return axios.get(result);\n  }\n\n  componentDidMount() {\n    this.fetchMap(this.props.info[\"beatmap_id\"]).then(res => {\n      console.log(\"data next\");\n      console.log(res.data[0]);\n      this.setState({\n        mapName: res.data[0].title,\n        artist: res.data[0].artist,\n        difficulty: res.data[0].version\n      });\n    });\n  }\n\n  render() {\n    const data = this.props.info;\n    const mode = this.props.mode;\n    const rankImage = ranks[data[\"rank\"]];\n    const accuracy = getAcc(data, mode);\n    const pp = Math.round(data[\"pp\"]);\n    return React.createElement(\"div\", {\n      className: \"Score\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 80\n      },\n      __self: this\n    }, React.createElement(\"img\", {\n      src: rankImage,\n      alt: data[\"rank\"],\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 81\n      },\n      __self: this\n    }), React.createElement(\"div\", {\n      className: \"LeftSide\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 82\n      },\n      __self: this\n    }, React.createElement(\"span\", {\n      className: \"MapName\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 83\n      },\n      __self: this\n    }, this.state.mapName ? this.state.mapName : React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 86\n      },\n      __self: this\n    }), this.state.artist ? React.createElement(\"span\", {\n      className: \"Artist\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 89\n      },\n      __self: this\n    }, \"by \", this.state.artist) : React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 90\n      },\n      __self: this\n    })), this.state.difficulty ? React.createElement(\"span\", {\n      className: \"DiffName\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 93\n      },\n      __self: this\n    }, this.state.difficulty) : React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 93\n      },\n      __self: this\n    })), React.createElement(\"span\", {\n      className: \"RightSide\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 95\n      },\n      __self: this\n    }, accuracy, \"%\"), React.createElement(\"span\", {\n      className: \"ppValue\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 96\n      },\n      __self: this\n    }, pp, \"pp\"));\n  }\n\n}","map":{"version":3,"sources":["/Users/joaquin/Developer/React/DAWR/osu-stalker-2/src/components/UserBest.js"],"names":["React","Component","axios","require","getAcc","data","mode","n50","parseInt","n100","n300","miss","katu","geki","toFixed","ranks","apiLink","mapData","apiKey","UserBest","constructor","props","state","mapName","artist","difficulty","fetchMap","bind","id","result","get","componentDidMount","info","then","res","console","log","setState","title","version","render","rankImage","accuracy","pp","Math","round"],"mappings":"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","sourcesContent":["import React, {Component} from \"react\"\n\nimport \"../styles/App.css\"\nimport \"../styles/UserBest.css\"\n\nconst axios = require(\"axios\")\n\nfunction getAcc(data, mode) {\n    let n50 = parseInt(data['count50'], 10)\n    let n100 = parseInt(data['count100'], 10)\n    let n300 = parseInt(data['count300'], 10)\n    let miss = parseInt(data['countmiss'], 10)\n    let katu = parseInt(data['countkatu'], 10)\n    let geki = parseInt(data['countgeki'], 10)\n    switch (mode) {\n        default:  //osu!\n            return ((50 * n50 + 100 * (n100) + 300 * (n300))/(300 * (miss + n50 + n100 + n300)) * 100).toFixed(2)\n        case \"0\":  // osu!\n            return ((50 * n50 + 100 * (n100) + 300 * (n300))/(300 * (miss + n50 + n100 + n300)) * 100).toFixed(2)\n        case \"1\":  // osu!taiko\n            return ((0.5 * (n100) + (n300))/(miss + (n100) + (n300)) * 100).toFixed(2)\n        case \"2\": // osu!catch\n            return ((n50 + n300 + n100)/(n50 + n300 + n100 + katu + miss) * 100).toFixed(2)\n        case \"3\" : //osu!mania\n            return ((50 * n50 + 100 * n100 + 200 * katu + 300 * (n300 + geki))/(300 * (miss + n50 + n100 + n300 + katu + geki)) * 100).toFixed(2)\n    }\n}\n\nconst ranks = {\n    \"SSH\": \"https://osu.ppy.sh/images/badges/score-ranks-v2019/GradeSmall-SS-Silver.svg?3\",\n    \"SS\": \"https://osu.ppy.sh/images/badges/score-ranks-v2019/GradeSmall-SS.svg?3\",\n    \"SH\": \"https://osu.ppy.sh/images/badges/score-ranks-v2019/GradeSmall-S-Silver.svg?3\",\n    \"S\": \"https://osu.ppy.sh/images/badges/score-ranks-v2019/GradeSmall-S.svg?3\",\n    \"A\": \"https://osu.ppy.sh/images/badges/score-ranks-v2019/GradeSmall-A.svg?3\",\n    \"B\": \"https://osu.ppy.sh/images/badges/score-ranks-v2019/GradeSmall-B.svg?3\",\n    \"C\": \"https://osu.ppy.sh/images/badges/score-ranks-v2019/GradeSmall-C.svg?3\",\n    \"D\": \"https://osu.ppy.sh/images/badges/score-ranks-v2019/GradeSmall-D.svg?3\"\n}\n\nconst apiLink = \"https://osu.ppy.sh/api/\"\nconst mapData = \"get_beatmaps?\"\nconst apiKey = \"k=a79d9c01a3b012fc0c0bab91aaa7d09e8b76492b\"\n\nexport default class UserBest extends Component {\n    constructor(props) {\n        super(props)\n        this.state = {\n            mapName: null,\n            artist: null,\n            difficulty: null\n        }\n        this.fetchMap = this.fetchMap.bind(this)\n    }\n\n    fetchMap(id) {\n        const result = apiLink + mapData + apiKey + \"&b=\" + id\n        return axios.get(result)\n    }\n\n    componentDidMount() {\n        this.fetchMap(this.props.info[\"beatmap_id\"]).then(res => {\n            console.log(\"data next\")\n            console.log(res.data[0])\n            this.setState({\n                mapName: res.data[0].title,\n                artist: res.data[0].artist,\n                difficulty: res.data[0].version\n            })\n        })\n    }\n\n    render() {\n        const data = this.props.info\n        const mode = this.props.mode\n        const rankImage = ranks[data[\"rank\"]]\n        const accuracy = getAcc(data, mode)\n        const pp = Math.round(data[\"pp\"])\n\n        return (\n            <div className=\"Score\">\n                <img src={rankImage} alt={data[\"rank\"]} />\n                <div className=\"LeftSide\">\n                    <span className=\"MapName\">\n                        {this.state.mapName ? \n                            this.state.mapName : \n                            <div />\n                        }\n                        {this.state.artist ?\n                            <span className=\"Artist\">by {this.state.artist}</span> :\n                            <div />\n                        }\n                    </span>\n                    {this.state.difficulty ? <span className=\"DiffName\">{this.state.difficulty}</span> : <div />}\n                </div>\n                <span className=\"RightSide\">{accuracy}%</span>\n                <span className=\"ppValue\">{pp}pp</span>\n            </div>\n        )\n    }\n}"]},"metadata":{},"sourceType":"module"}